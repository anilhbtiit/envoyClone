--- 
+++ 
@@ -29,6 +29,7 @@
 
 namespace Envoy {
 namespace Http {
+namespace Legacy {
 namespace Http2 {
 
 const std::string ALPN_STRING = "h2";
@@ -214,9 +215,9 @@
     virtual void decodeTrailers() PURE;
 
     // Get MetadataEncoder for this stream.
-    MetadataEncoder& getMetadataEncoder();
+    Envoy::Http::Http2::MetadataEncoder& getMetadataEncoder();
     // Get MetadataDecoder for this stream.
-    MetadataDecoder& getMetadataDecoder();
+    Envoy::Http::Http2::MetadataDecoder& getMetadataDecoder();
     // Callback function for MetadataDecoder.
     void onMetadataDecoded(MetadataMapPtr&& metadata_map_ptr);
 
@@ -233,8 +234,8 @@
         [this]() -> void { this->pendingSendBufferLowWatermark(); },
         [this]() -> void { this->pendingSendBufferHighWatermark(); }};
     HeaderMapPtr pending_trailers_to_encode_;
-    std::unique_ptr<MetadataDecoder> metadata_decoder_;
-    std::unique_ptr<MetadataEncoder> metadata_encoder_;
+    std::unique_ptr<Envoy::Http::Http2::MetadataDecoder> metadata_decoder_;
+    std::unique_ptr<Envoy::Http::Http2::MetadataEncoder> metadata_encoder_;
     absl::optional<StreamResetReason> deferred_reset_;
     HeaderString cookies_;
     bool local_end_stream_sent_ : 1;
@@ -540,6 +541,7 @@
 };
 
 } // namespace Http2
+} // namespace Legacy
 } // namespace Http
 } // namespace Envoy
 