admin:
  access_log_path: /tmp/admin_access.log
  address:
    socket_address:
      protocol: TCP
      address: 127.0.0.1
      port_value: 9901
static_resources:
  listeners:
  - address:
      socket_address:
        address: 0.0.0.0
        port_value: 8080
    filter_chains:
    - filters:
      - name: envoy.tcp_proxy
        config:
          stat_prefix: tcp_vip_stats
          cluster: cluster1
          max_connect_attempts: 2
          access_log:
            - name: envoy.file_access_log
              config:
                format: "[%START_TIME%] duration_ms=%DURATION% downstream_remote_address=%DOWNSTREAM_REMOTE_ADDRESS% upstream_local_address=%UPSTREAM_LOCAL_ADDRESS% upstream_remote_address=%UPSTREAM_HOST% downstream_tx_bytes=%BYTES_SENT% downstream_rx_bytes=%BYTES_RECEIVED% flags=%RESPONSE_FLAGS%\n"
                path: "tcp_access.log"
  clusters:
  - name: cluster1
    connect_timeout: 0.25s
    type: STATIC
    lb_policy: round_robin
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        common_tls_context:
          tls_params:
            tls_minimum_protocol_version: 'TLSv1_2'
            tls_maximum_protocol_version: 'TLSv1_3'
    hosts:
      - socket_address:
          address: 127.0.0.1
          port_value: 10000
      - socket_address:
          address: 127.0.0.1
          port_value: 10001
admin:
  access_log_path: "/dev/null"
  address:
    socket_address:
      address: 0.0.0.0
      port_value: 8081

node:
  id: the_id
  cluster: the_cluster
