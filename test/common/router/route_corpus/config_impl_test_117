config {
  virtual_hosts {
    name: "www2"
    domains: "www.lyft.com"
    routes {
      match {
        prefix: "/foo"
      }
      route {
        cluster: "www2"
        retry_policy {
          retry_on: "connect-failure"
        }
      }
    }
    routes {
      match {
        prefix: "/bar"
      }
      route {
        cluster: "www2"
      }
    }
    routes {
      match {
        prefix: "/"
      }
      route {
        cluster: "www2"
        retry_policy {
          retry_on: "5xx,deadline-exceeded,resource-exhausted"
          num_retries {
            value: 3
          }
          per_try_timeout {
            seconds: 1
          }
        }
      }
    }
  }
}
headers {
  headers {
    key: ":authority"
    value: "www.lyft.com"
  }
  headers {
    key: ":path"
    value: "/"
  }
  headers {
    key: ":method"
    value: "GET"
  }
}
