admin:
  address:
    socket_address:
      address: 0.0.0.0
      port_value: 9000

static_resources:
  listeners:
  - name: http11_server
    address:
      socket_address:
        protocol: TCP
        address: 0.0.0.0
        port_value: 10000
    filter_chains:
    - transport_socket:
        name: envoy.transport_socket.tls
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
          common_tls_context:
            alpn_protocols: ["http/1.1"]
            tls_certificates:
            - certificate_chain:
                inline_string: |
                  -----BEGIN CERTIFICATE-----
                  MIIDDTCCAfWgAwIBAgIUQ+BbsQhrJnksmVctCmoGSAzZyVkwDQYJKoZIhvcNAQEL
                  BQAwFjEUMBIGA1UEAwwLZnJvbnQtZW52b3kwHhcNMjEwODI1MTQxODUzWhcNMzEw
                  ODIzMTQxODUzWjAWMRQwEgYDVQQDDAtmcm9udC1lbnZveTCCASIwDQYJKoZIhvcN
                  AQEBBQADggEPADCCAQoCggEBAK3kBEvcNXT3EFXEz6k2SseK6towINPYSmCGKjrq
                  nYRfGIXbo+E/lIIYLWAinOQhxpepj1+fW7QkQFYXyZ7Cyq/A6GAmmkCTjK+/yKhO
                  gCB8HZEZLwFHF+AsgW3nHluM6BlbTYnEhJWqIoYY1uQdQBxRnH9r0oha9+j1UKi1
                  0pYdowIKoPXPKnjkHPUCR3Qq10VC2kO98C4lDe4qBNKqjd5yR6Rtlurvo1DL2dGZ
                  mEBQLcdCB4W8gb+ZE+0zo73r+PdZU3wkFcZUwVf2mgIRpj/VGA9c/abMzcGXTNu9
                  JY0nXjd5UHzCCjN4DK06IfNj2os5B0kkiWFfjOikcItziZECAwEAAaNTMFEwHQYD
                  VR0OBBYEFEsrfNZMDgm1wHdkyIob5eAwzeQzMB8GA1UdIwQYMBaAFEsrfNZMDgm1
                  wHdkyIob5eAwzeQzMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEB
                  ACzXwVTdAsF4GuqDQzVO2P/PqlkXW890qODCRS/y8dbmN5qGJNCqghanY3SZ5sup
                  9AOFOhpLVHjnsdFiJ+wa1s1rQdk+1kMuL2iZIoTqFxRTdNkrh7+STXax9RmvaafG
                  dtnNYQX0DRy5iJX0GwBXxTu+T3gZenBQkKryZnJ+YoZEe7ZwGhpVzZAlsmMY6gnM
                  HF94NQ5sYfvU49OFVMhMxAIFMl3Rd5RZCnI4LYqOZ5e6lYQPF+dieaXMWuX93I2A
                  U4PHhR5uw8jVRZnMIWryR4t8mPY7M94X/mWsJCvRbky09B22FIqwEp5a/4/ligL2
                  h5MSMfwSHPRnv2jxQdXVm/w=
                  -----END CERTIFICATE-----
              private_key:
                inline_string: |
                  -----BEGIN PRIVATE KEY-----
                  MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCt5ARL3DV09xBV
                  xM+pNkrHiuraMCDT2Epghio66p2EXxiF26PhP5SCGC1gIpzkIcaXqY9fn1u0JEBW
                  F8mewsqvwOhgJppAk4yvv8ioToAgfB2RGS8BRxfgLIFt5x5bjOgZW02JxISVqiKG
                  GNbkHUAcUZx/a9KIWvfo9VCotdKWHaMCCqD1zyp45Bz1Akd0KtdFQtpDvfAuJQ3u
                  KgTSqo3eckekbZbq76NQy9nRmZhAUC3HQgeFvIG/mRPtM6O96/j3WVN8JBXGVMFX
                  9poCEaY/1RgPXP2mzM3Bl0zbvSWNJ143eVB8wgozeAytOiHzY9qLOQdJJIlhX4zo
                  pHCLc4mRAgMBAAECggEAJ+PYwHZBpRVQH/zIDm8v9Fp/yZGk1jQVy9K7OUy82bLe
                  80YRcAifzsAxGI6YIxVEc2IoS61I4ig2wgku7UaOLIc6R2RTmmC+s0pxg3qOleUi
                  +zgluktOxNQw1L9iDWpji/2P6fy01Yhz5wMnuKilHlnyZqCbaUBFAqHT4P/k0R6W
                  ShFg0/BpXfXvZuIKofV/WDXsC9H1lHn+Jdb6YH8XOh45v8DUy2waj+BfaxYBwjMe
                  PetyU60e5mIOcbga15WkTMyPDXpn1wBzdjbWdK2cVJmzevkiohSI2BOnjlZy0Hip
                  HVl6NXkA00+ebwgZi+Lh79WA1H+/AzL82UCREve6YQKBgQDi1fhDnR7W6ZramUyF
                  XFE0bm+Y3I/AQNTQhehTuHe8OcDIt/U0wbEyDpV/PtyIkwlRJAebry4LMREoUlfx
                  +VZCuG38jP6wx+I7e3r8q4dnpY8iwtqegIhW8RsIuw5N2b02lT3aJhIfeNKZWeZP
                  /Q+zML0FFOUxjrcy76rf5B3iDQKBgQDEP2vZUomdy7axQ+FTAIT8AMt8fq3W/769
                  zT95dquEwg8eTorDsY4rCQQiDJnmor0QLlGb+XB74MKeeLl+E3NZ6X3rc83QUJ6v
                  kZacFhITylwpUz3s8ETBQC5aGBETLmZ72rio/3uaArxOdzaohCGVV7OK+TfkoQD2
                  959g+6TYlQKBgEGtD/+Lm2VAJ8zI++XU79INc5Q/sANLAhMJ4lVzIH/H/PBgisdm
                  mUZUAKbh7XpBkD4E/4rs8pjc8QnKpZnyxi31NiscK5XFmdP9EYPcqgyxW7sFzcR8
                  lH0Pu/MQLbkOpQELvufNhAvGsLsj01Ivg/8uyluRTDbICnTd/YxrgNd1AoGAVBox
                  6AK9Q0ioVLOYfu+8DhtxGTtY2MjlP4YUa8N1ogFgZUaXpWIUYVEN2mG4GuUnTSXs
                  h4GQuSYLgcqPA/7l8mRkOGF6lInYV7l26BF1UdHpSTSJV19ot8D/nFCwEJ5UAUQs
                  2xASMmB1vtLMM8/cbJoXMbm4QFzXgv9/6Bov/TkCgYBZ48J2B8rFSJmTR312TtXY
                  BHLJt/kZFm9oV2R1ZD/OMdjzXjglVTIFhVxpSM0NEKsRnA0pLFbC5B3HKnnrp9fh
                  rkz95P2mvjMlrqXEuB3tsvwmVZHPUJgtDq8cMMlBVRoGmR+YI2u/nSrSqxoK2C52
                  L6tQDA8M5JPPctM27Dl8Qg==
                  -----END PRIVATE KEY-----

      filters:
      - name: envoy.filters.network.http_connection_manager
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
          codec_type: HTTP1
          stat_prefix: http11_proxy
          http_filters:
          - name: envoy.filters.http.router
          route_config:
            name: test_route
            virtual_hosts:
            - name: google_service
              domains: ["*"]
              routes:
              - match: { prefix: "/http11" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http11
              - match: { prefix: "/http2" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http2
              - match: { prefix: "/http3" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http3

  - name: http2_server
    address:
      socket_address:
        protocol: TCP
        address: 0.0.0.0
        port_value: 10001
    filter_chains:
    - transport_socket:
        name: envoy.transport_socket.tls
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext
          common_tls_context:
            alpn_protocols: ["h2"]
            tls_certificates:
            - certificate_chain:
                inline_string: |
                  -----BEGIN CERTIFICATE-----
                  MIIDDTCCAfWgAwIBAgIUQ+BbsQhrJnksmVctCmoGSAzZyVkwDQYJKoZIhvcNAQEL
                  BQAwFjEUMBIGA1UEAwwLZnJvbnQtZW52b3kwHhcNMjEwODI1MTQxODUzWhcNMzEw
                  ODIzMTQxODUzWjAWMRQwEgYDVQQDDAtmcm9udC1lbnZveTCCASIwDQYJKoZIhvcN
                  AQEBBQADggEPADCCAQoCggEBAK3kBEvcNXT3EFXEz6k2SseK6towINPYSmCGKjrq
                  nYRfGIXbo+E/lIIYLWAinOQhxpepj1+fW7QkQFYXyZ7Cyq/A6GAmmkCTjK+/yKhO
                  gCB8HZEZLwFHF+AsgW3nHluM6BlbTYnEhJWqIoYY1uQdQBxRnH9r0oha9+j1UKi1
                  0pYdowIKoPXPKnjkHPUCR3Qq10VC2kO98C4lDe4qBNKqjd5yR6Rtlurvo1DL2dGZ
                  mEBQLcdCB4W8gb+ZE+0zo73r+PdZU3wkFcZUwVf2mgIRpj/VGA9c/abMzcGXTNu9
                  JY0nXjd5UHzCCjN4DK06IfNj2os5B0kkiWFfjOikcItziZECAwEAAaNTMFEwHQYD
                  VR0OBBYEFEsrfNZMDgm1wHdkyIob5eAwzeQzMB8GA1UdIwQYMBaAFEsrfNZMDgm1
                  wHdkyIob5eAwzeQzMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEB
                  ACzXwVTdAsF4GuqDQzVO2P/PqlkXW890qODCRS/y8dbmN5qGJNCqghanY3SZ5sup
                  9AOFOhpLVHjnsdFiJ+wa1s1rQdk+1kMuL2iZIoTqFxRTdNkrh7+STXax9RmvaafG
                  dtnNYQX0DRy5iJX0GwBXxTu+T3gZenBQkKryZnJ+YoZEe7ZwGhpVzZAlsmMY6gnM
                  HF94NQ5sYfvU49OFVMhMxAIFMl3Rd5RZCnI4LYqOZ5e6lYQPF+dieaXMWuX93I2A
                  U4PHhR5uw8jVRZnMIWryR4t8mPY7M94X/mWsJCvRbky09B22FIqwEp5a/4/ligL2
                  h5MSMfwSHPRnv2jxQdXVm/w=
                  -----END CERTIFICATE-----
              private_key:
                inline_string: |
                  -----BEGIN PRIVATE KEY-----
                  MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCt5ARL3DV09xBV
                  xM+pNkrHiuraMCDT2Epghio66p2EXxiF26PhP5SCGC1gIpzkIcaXqY9fn1u0JEBW
                  F8mewsqvwOhgJppAk4yvv8ioToAgfB2RGS8BRxfgLIFt5x5bjOgZW02JxISVqiKG
                  GNbkHUAcUZx/a9KIWvfo9VCotdKWHaMCCqD1zyp45Bz1Akd0KtdFQtpDvfAuJQ3u
                  KgTSqo3eckekbZbq76NQy9nRmZhAUC3HQgeFvIG/mRPtM6O96/j3WVN8JBXGVMFX
                  9poCEaY/1RgPXP2mzM3Bl0zbvSWNJ143eVB8wgozeAytOiHzY9qLOQdJJIlhX4zo
                  pHCLc4mRAgMBAAECggEAJ+PYwHZBpRVQH/zIDm8v9Fp/yZGk1jQVy9K7OUy82bLe
                  80YRcAifzsAxGI6YIxVEc2IoS61I4ig2wgku7UaOLIc6R2RTmmC+s0pxg3qOleUi
                  +zgluktOxNQw1L9iDWpji/2P6fy01Yhz5wMnuKilHlnyZqCbaUBFAqHT4P/k0R6W
                  ShFg0/BpXfXvZuIKofV/WDXsC9H1lHn+Jdb6YH8XOh45v8DUy2waj+BfaxYBwjMe
                  PetyU60e5mIOcbga15WkTMyPDXpn1wBzdjbWdK2cVJmzevkiohSI2BOnjlZy0Hip
                  HVl6NXkA00+ebwgZi+Lh79WA1H+/AzL82UCREve6YQKBgQDi1fhDnR7W6ZramUyF
                  XFE0bm+Y3I/AQNTQhehTuHe8OcDIt/U0wbEyDpV/PtyIkwlRJAebry4LMREoUlfx
                  +VZCuG38jP6wx+I7e3r8q4dnpY8iwtqegIhW8RsIuw5N2b02lT3aJhIfeNKZWeZP
                  /Q+zML0FFOUxjrcy76rf5B3iDQKBgQDEP2vZUomdy7axQ+FTAIT8AMt8fq3W/769
                  zT95dquEwg8eTorDsY4rCQQiDJnmor0QLlGb+XB74MKeeLl+E3NZ6X3rc83QUJ6v
                  kZacFhITylwpUz3s8ETBQC5aGBETLmZ72rio/3uaArxOdzaohCGVV7OK+TfkoQD2
                  959g+6TYlQKBgEGtD/+Lm2VAJ8zI++XU79INc5Q/sANLAhMJ4lVzIH/H/PBgisdm
                  mUZUAKbh7XpBkD4E/4rs8pjc8QnKpZnyxi31NiscK5XFmdP9EYPcqgyxW7sFzcR8
                  lH0Pu/MQLbkOpQELvufNhAvGsLsj01Ivg/8uyluRTDbICnTd/YxrgNd1AoGAVBox
                  6AK9Q0ioVLOYfu+8DhtxGTtY2MjlP4YUa8N1ogFgZUaXpWIUYVEN2mG4GuUnTSXs
                  h4GQuSYLgcqPA/7l8mRkOGF6lInYV7l26BF1UdHpSTSJV19ot8D/nFCwEJ5UAUQs
                  2xASMmB1vtLMM8/cbJoXMbm4QFzXgv9/6Bov/TkCgYBZ48J2B8rFSJmTR312TtXY
                  BHLJt/kZFm9oV2R1ZD/OMdjzXjglVTIFhVxpSM0NEKsRnA0pLFbC5B3HKnnrp9fh
                  rkz95P2mvjMlrqXEuB3tsvwmVZHPUJgtDq8cMMlBVRoGmR+YI2u/nSrSqxoK2C52
                  L6tQDA8M5JPPctM27Dl8Qg==
                  -----END PRIVATE KEY-----
      filters:
      - name: envoy.filters.network.http_connection_manager
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
          codec_type: HTTP2
          stat_prefix: http2_proxy
          http_filters:
          - name: envoy.filters.http.router
          route_config:
            name: test_route
            virtual_hosts:
            - name: google_service
              domains: ["*"]
              routes:
              - match: { prefix: "/http11" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http11
              - match: { prefix: "/http2" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http2
              - match: { prefix: "/http3" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http3

  - name: http3_server
    address:
      socket_address:
        protocol: UDP
        address: 0.0.0.0
        port_value: 10002
    udp_listener_config:
      quic_options: {}
      downstream_socket_config:
        prefer_gro: true
    filter_chains:
    - transport_socket:
        name: envoy.transport_sockets.quic
        typed_config:
          "@type":  type.googleapis.com/envoy.extensions.transport_sockets.quic.v3.QuicDownstreamTransport
          downstream_tls_context:
            common_tls_context:
              alpn_protocols: ["h3"]
              tls_certificates:
              - certificate_chain:
                  inline_string: |
                    -----BEGIN CERTIFICATE-----
                    MIIDDTCCAfWgAwIBAgIUQ+BbsQhrJnksmVctCmoGSAzZyVkwDQYJKoZIhvcNAQEL
                    BQAwFjEUMBIGA1UEAwwLZnJvbnQtZW52b3kwHhcNMjEwODI1MTQxODUzWhcNMzEw
                    ODIzMTQxODUzWjAWMRQwEgYDVQQDDAtmcm9udC1lbnZveTCCASIwDQYJKoZIhvcN
                    AQEBBQADggEPADCCAQoCggEBAK3kBEvcNXT3EFXEz6k2SseK6towINPYSmCGKjrq
                    nYRfGIXbo+E/lIIYLWAinOQhxpepj1+fW7QkQFYXyZ7Cyq/A6GAmmkCTjK+/yKhO
                    gCB8HZEZLwFHF+AsgW3nHluM6BlbTYnEhJWqIoYY1uQdQBxRnH9r0oha9+j1UKi1
                    0pYdowIKoPXPKnjkHPUCR3Qq10VC2kO98C4lDe4qBNKqjd5yR6Rtlurvo1DL2dGZ
                    mEBQLcdCB4W8gb+ZE+0zo73r+PdZU3wkFcZUwVf2mgIRpj/VGA9c/abMzcGXTNu9
                    JY0nXjd5UHzCCjN4DK06IfNj2os5B0kkiWFfjOikcItziZECAwEAAaNTMFEwHQYD
                    VR0OBBYEFEsrfNZMDgm1wHdkyIob5eAwzeQzMB8GA1UdIwQYMBaAFEsrfNZMDgm1
                    wHdkyIob5eAwzeQzMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEB
                    ACzXwVTdAsF4GuqDQzVO2P/PqlkXW890qODCRS/y8dbmN5qGJNCqghanY3SZ5sup
                    9AOFOhpLVHjnsdFiJ+wa1s1rQdk+1kMuL2iZIoTqFxRTdNkrh7+STXax9RmvaafG
                    dtnNYQX0DRy5iJX0GwBXxTu+T3gZenBQkKryZnJ+YoZEe7ZwGhpVzZAlsmMY6gnM
                    HF94NQ5sYfvU49OFVMhMxAIFMl3Rd5RZCnI4LYqOZ5e6lYQPF+dieaXMWuX93I2A
                    U4PHhR5uw8jVRZnMIWryR4t8mPY7M94X/mWsJCvRbky09B22FIqwEp5a/4/ligL2
                    h5MSMfwSHPRnv2jxQdXVm/w=
                    -----END CERTIFICATE-----
                private_key:
                  inline_string: |
                    -----BEGIN PRIVATE KEY-----
                    MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCt5ARL3DV09xBV
                    xM+pNkrHiuraMCDT2Epghio66p2EXxiF26PhP5SCGC1gIpzkIcaXqY9fn1u0JEBW
                    F8mewsqvwOhgJppAk4yvv8ioToAgfB2RGS8BRxfgLIFt5x5bjOgZW02JxISVqiKG
                    GNbkHUAcUZx/a9KIWvfo9VCotdKWHaMCCqD1zyp45Bz1Akd0KtdFQtpDvfAuJQ3u
                    KgTSqo3eckekbZbq76NQy9nRmZhAUC3HQgeFvIG/mRPtM6O96/j3WVN8JBXGVMFX
                    9poCEaY/1RgPXP2mzM3Bl0zbvSWNJ143eVB8wgozeAytOiHzY9qLOQdJJIlhX4zo
                    pHCLc4mRAgMBAAECggEAJ+PYwHZBpRVQH/zIDm8v9Fp/yZGk1jQVy9K7OUy82bLe
                    80YRcAifzsAxGI6YIxVEc2IoS61I4ig2wgku7UaOLIc6R2RTmmC+s0pxg3qOleUi
                    +zgluktOxNQw1L9iDWpji/2P6fy01Yhz5wMnuKilHlnyZqCbaUBFAqHT4P/k0R6W
                    ShFg0/BpXfXvZuIKofV/WDXsC9H1lHn+Jdb6YH8XOh45v8DUy2waj+BfaxYBwjMe
                    PetyU60e5mIOcbga15WkTMyPDXpn1wBzdjbWdK2cVJmzevkiohSI2BOnjlZy0Hip
                    HVl6NXkA00+ebwgZi+Lh79WA1H+/AzL82UCREve6YQKBgQDi1fhDnR7W6ZramUyF
                    XFE0bm+Y3I/AQNTQhehTuHe8OcDIt/U0wbEyDpV/PtyIkwlRJAebry4LMREoUlfx
                    +VZCuG38jP6wx+I7e3r8q4dnpY8iwtqegIhW8RsIuw5N2b02lT3aJhIfeNKZWeZP
                    /Q+zML0FFOUxjrcy76rf5B3iDQKBgQDEP2vZUomdy7axQ+FTAIT8AMt8fq3W/769
                    zT95dquEwg8eTorDsY4rCQQiDJnmor0QLlGb+XB74MKeeLl+E3NZ6X3rc83QUJ6v
                    kZacFhITylwpUz3s8ETBQC5aGBETLmZ72rio/3uaArxOdzaohCGVV7OK+TfkoQD2
                    959g+6TYlQKBgEGtD/+Lm2VAJ8zI++XU79INc5Q/sANLAhMJ4lVzIH/H/PBgisdm
                    mUZUAKbh7XpBkD4E/4rs8pjc8QnKpZnyxi31NiscK5XFmdP9EYPcqgyxW7sFzcR8
                    lH0Pu/MQLbkOpQELvufNhAvGsLsj01Ivg/8uyluRTDbICnTd/YxrgNd1AoGAVBox
                    6AK9Q0ioVLOYfu+8DhtxGTtY2MjlP4YUa8N1ogFgZUaXpWIUYVEN2mG4GuUnTSXs
                    h4GQuSYLgcqPA/7l8mRkOGF6lInYV7l26BF1UdHpSTSJV19ot8D/nFCwEJ5UAUQs
                    2xASMmB1vtLMM8/cbJoXMbm4QFzXgv9/6Bov/TkCgYBZ48J2B8rFSJmTR312TtXY
                    BHLJt/kZFm9oV2R1ZD/OMdjzXjglVTIFhVxpSM0NEKsRnA0pLFbC5B3HKnnrp9fh
                    rkz95P2mvjMlrqXEuB3tsvwmVZHPUJgtDq8cMMlBVRoGmR+YI2u/nSrSqxoK2C52
                    L6tQDA8M5JPPctM27Dl8Qg==
                    -----END PRIVATE KEY-----
      filters:
      - name: envoy.filters.network.http_connection_manager
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
          codec_type: HTTP3
          http3_protocol_options: {}
          http_filters:
          - name: envoy.filters.http.router
          stat_prefix: http3_proxy
          route_config:
            name: test_route
            virtual_hosts:
            - name: google_service
              domains: ["*"]
              routes:
              - match: { prefix: "/http11" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http11
              - match: { prefix: "/http2" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http2
              - match: { prefix: "/http3" }
                route:
                  host_rewrite_literal: quic.aiortc.org
                  prefix_rewrite: "/"
                  cluster: google_http3

  clusters:
  - name: google_http11
    connect_timeout: 5s
    type: STRICT_DNS
    dns_lookup_family: V4_ONLY
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: google_http11
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: quic.aiortc.org
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: quic.aiortc.org
        common_tls_context:
          alpn_protocols: ["http/1.1"]
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        "@type": type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http_protocol_options: {}

  - name: google_http2
    connect_timeout: 5s
    type: STRICT_DNS
    dns_lookup_family: V4_ONLY
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: google_http2
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: quic.aiortc.org
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.tls
      typed_config:
        "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext
        sni: quic.aiortc.org
        common_tls_context:
          alpn_protocols: ["h2"]
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        "@type": type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http2_protocol_options: {}

  - name: google_http3
    connect_timeout: 5s
    type: STRICT_DNS
    dns_lookup_family: V4_ONLY
    lb_policy: ROUND_ROBIN
    load_assignment:
      cluster_name: google_http3
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: quic.aiortc.org
                port_value: 443
    transport_socket:
      name: envoy.transport_sockets.quic
      typed_config:
        "@type": type.googleapis.com/envoy.extensions.transport_sockets.quic.v3.QuicUpstreamTransport
        upstream_tls_context:
          sni: quic.aiortc.org
          common_tls_context:
            alpn_protocols: ["h3"]
    typed_extension_protocol_options:
      envoy.extensions.upstreams.http.v3.HttpProtocolOptions:
        "@type": type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions
        explicit_http_config:
          http3_protocol_options: {}
