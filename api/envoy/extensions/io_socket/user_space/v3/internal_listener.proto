syntax = "proto3";

package envoy.extensions.io_socket.user_space.v3;

import "google/protobuf/any.proto";

import "udpa/annotations/status.proto";
import "validate/validate.proto";

option java_package = "io.envoyproxy.envoy.extensions.io_socket.user_space.v3";
option java_outer_classname = "InternalListenerProto";
option java_multiple_files = true;
option go_package = "github.com/envoyproxy/go-control-plane/envoy/extensions/io_socket/user_space/v3;user_spacev3";
option (udpa.annotations.file_status).package_version_status = ACTIVE;

// [#protodoc-title: Internal Listener]
//
// This extension contains 2 major components to add a listener with
// an :ref:`envoy internal address <envoy_v3_api_msg_config.core.v3.EnvoyInternalAddress>`
// and to create a client connection to that :ref:`listener <envoy.config.listener.v3.Listener>`
//
// 1. The bootstrap extension `envoy.bootstrap.internal_listener_registry`
//
// This bootstrap extension is required to support looking up the target listener via an
// :ref:`envoy internal address <envoy_v3_api_msg_config.core.v3.EnvoyInternalAddress>` on each worker threads.
//
// 2. The client connection factory `network.connection.client.envoy_internal`
//
// This factory is implicitly instantiated by the dispatcher to establish a client connection to the above
// internal listener,
//
// [#extension: envoy.io_socket.user_space]

// [#not-implemented-hide:]
// Configuration for internal listener registry.
// [#extension-category: envoy.bootstrap]
message InternalListenerRegistry {
}
