diff --git a/BUILD.bazel b/BUILD.bazel
index b0b9016..7172a43 100644
--- a/BUILD.bazel
+++ b/BUILD.bazel
@@ -1,3 +1,8 @@
+yaml_cpp_copts = select({
+    "@envoy//bazel:windows_x86_64": ["-DYAML_CPP_API"],
+    "//conditions:default": [""],
+})
+
 cc_library(
     name = "yaml-cpp_internal",
     visibility = ["//:__subpackages__"],
@@ -11,4 +16,5 @@ cc_library(
     includes = ["include"],
     hdrs = glob(["include/**/*.h"]),
     srcs = glob(["src/**/*.cpp", "src/**/*.h"]),
+    copts = yaml_cpp_copts,
 )
